{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,yCCMA,MAAMC,EAAYC,SAASC,cAAc,iBAGnCC,EAAkB,oDAClBC,EAAiB,mCACjBC,EAAgBJ,SAASC,cAAc,eAEhCI,EAAiBC,IAC7B,IACC,MAAMC,GAAO,EAAAC,EAAAC,gBAAe,GACR,IAAhBF,EAAKG,QACRX,EAAUY,UAAY,oCAAoCR,yBAC1DC,EAAcO,UAAY,KAE1BC,EAAoBL,GACpBM,IAEF,CAAE,MAAOC,GACRC,QAAQC,IAAIF,EACb,GAGYG,EAAgBX,IAC5B,IACC,MAAMC,GAAO,EAAAC,EAAAU,eAAc,GACP,IAAhBX,EAAKG,QACRX,EAAUY,UAAY,oCAAoCR,yBAC1DC,EAAcO,UAAY,KAE1BC,EAAoBL,GACpBY,IAEF,CAAE,MAAOL,GACRC,QAAQC,IAAIF,EACb,GAGYF,EAAsBQ,MAAOC,IACzC,IAAIC,EAAa,GACjB,MAAMC,QAAeC,EAAAC,QAAWC,mBAC1BC,EAASN,EACbO,KACA,EAACC,MACAA,EAAKC,YACLA,EAAWC,aACXA,EAAYC,eACZA,EAAcC,KACdA,EAAIC,aACJA,EAAYC,UACZA,EAASC,GACTA,MAEID,IACHb,EAAaC,EACXc,QAAO,EAACD,GAAEA,KAASD,EAAUG,SAASF,KACtCR,KAAI,EAACK,KAAEA,KAAWA,IAClBM,KAAK,OAED,2CAC6BH,mEAE1BN,EA5DE,kCA4DsBA,EAAc5B,uBACtC4B,EA5DS,sCA4DsBA,EAAc5B,2BACxC2B,GAASI,oGAESJ,GAASI,yFAEPX,oDAEhCS,GAAgBC,IAAiBQ,MAAM,EAAG,IAAM,uDAEbN,EAAaO,QAAQ,IAAM,qEAMlEF,KAAK,IACPxC,EAAUY,UAAY,GACtBZ,EAAU2C,mBAAmB,YAAaf,EAAA,EDhFrCgB,EAAgB3C,SAASC,cAAc,eAEhCY,EAAuB,KACnC,KACc,EAAAL,EAAAC,gBAAe,GAA5B,MAEMmC,EAAU,CACfC,WAFkBC,KAAKC,MAAMC,aAAaC,QAAQ,YAAYvC,OAG9DwC,aAAc,GACdC,aAAc,EACdC,KAAM,EACNC,aAAa,GAEK,IAAIC,EAAAzD,GAAJ,CAAe8C,EAAeC,GAEtCW,GAAG,cAAejD,IAC5B,MAAMkD,GAAc,EAAAhD,EAAAC,gBAAeH,EAAM8C,MACzCxC,EAAoB4C,EAAA,GAEtB,CAAE,MAAO1C,GACRC,QAAQC,IAAIF,EACb,GAGYK,EAAsB,KAClC,KACc,EAAAX,EAAAU,eAAc,GAA3B,MAEM0B,EAAU,CACfC,WAFkBC,KAAKC,MAAMC,aAAaC,QAAQ,UAAUvC,OAG5DwC,aAAc,GACdC,aAAc,EACdC,KAAM,EACNC,aAAa,GAEK,IAAIC,EAAAzD,GAAJ,CAAe8C,EAAeC,GAEtCW,GAAG,cAAejD,IAC5B,MAAMkD,GAAc,EAAAhD,EAAAU,eAAcZ,EAAM8C,MACxCxC,EAAoB4C,EAAA,GAEtB,CAAE,MAAO1C,GACRC,QAAQC,IAAIF,EACb,GExCK2C,GAFazD,SAASC,cAAc,gBAEvBD,SAASC,cAAc,gBACpCyD,EAAW1D,SAASC,cAAc,aAElC0D,EAAmBC,IACxB,MAAMC,EAAaD,EAAEE,OAEhBD,EAAWE,UAAUC,SAAS,wBAClCP,EAAWM,UAAUE,OAAO,sBAC5BP,EAASK,UAAUE,OAAO,uBAGvBJ,EAAWE,UAAUC,SAAS,0BACjCP,EAAWM,UAAUE,OAAO,wBAC5BP,EAASK,UAAUE,OAAO,yBAEvBR,EAAWM,UAAUC,SAAS,sBACjC3D,IAEAY,GAAW,EAIbwC,EAAWS,iBAAiB,QAASP,GACrCD,EAASQ,iBAAiB,QAASP,GAEnCtD,I","sources":["src/js/pagination-library.js","src/js/render-library-movies.js","src/js/header-library.js"],"sourcesContent":["import Pagination from \"tui-pagination\";\nimport \"tui-pagination/dist/tui-pagination.css\";\nimport { getFromQueued, getFromWatched } from \"./local-storage\";\nimport { renderLibraryMovies } from \"./render-library-movies\";\n\nconst paginationDOM = document.querySelector(\"#pagination\");\n\nexport const setPaginationWatched = () => {\n\ttry {\n\t\tconst data = getFromWatched(1);\n\t\tconst totalItems = JSON.parse(localStorage.getItem(\"watched\")).length;\n\t\tconst options = {\n\t\t\ttotalItems: totalItems,\n\t\t\titemsPerPage: 15,\n\t\t\tvisiblePages: 5,\n\t\t\tpage: 1,\n\t\t\tcenterAlign: true,\n\t\t};\n\t\tconst pagination = new Pagination(paginationDOM, options);\n\n\t\tpagination.on(\"beforeMove\", (event) => {\n\t\t\tconst newPageData = getFromWatched(event.page);\n\t\t\trenderLibraryMovies(newPageData);\n\t\t});\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\nexport const setPaginationQueued = () => {\n\ttry {\n\t\tconst data = getFromQueued(1);\n\t\tconst totalItems = JSON.parse(localStorage.getItem(\"queue\")).length;\n\t\tconst options = {\n\t\t\ttotalItems: totalItems,\n\t\t\titemsPerPage: 15,\n\t\t\tvisiblePages: 5,\n\t\t\tpage: 1,\n\t\t\tcenterAlign: true,\n\t\t};\n\t\tconst pagination = new Pagination(paginationDOM, options);\n\n\t\tpagination.on(\"beforeMove\", (event) => {\n\t\t\tconst newPageData = getFromQueued(event.page);\n\t\t\trenderLibraryMovies(newPageData);\n\t\t});\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n","import {\n\tsetPaginationWatched,\n\tsetPaginationQueued,\n} from \"./pagination-library\";\nimport { getFromQueued, getFromWatched } from \"./local-storage\";\nimport getGallery from \"./get-gallery\";\nconst moviesDOM = document.querySelector(\".movies__list\");\nconst IMG_URL = \"https://image.tmdb.org/t/p/w500\";\nconst IMG_URL_RETINA = \"https://image.tmdb.org/t/p/original\";\nconst IMG_URL_DEFAULT = \"https://i.ibb.co/xq4LQMw/Filmoteka-by-Quattro.jpg\";\nconst NO_MOVIES_MEME = \"https://i.imgflip.com/7kk9al.jpg\";\nconst paginationDOM = document.querySelector(\"#pagination\");\n\nexport const submitWatched = (event) => {\n\ttry {\n\t\tconst data = getFromWatched(1);\n\t\tif (data.length === 0) {\n\t\t\tmoviesDOM.innerHTML = `<img class='movie__library' src='${NO_MOVIES_MEME}' alt='Boromir meme'>`;\n\t\t\tpaginationDOM.innerHTML = \"\";\n\t\t} else {\n\t\t\trenderLibraryMovies(data);\n\t\t\tsetPaginationWatched();\n\t\t}\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\nexport const submitQueued = (event) => {\n\ttry {\n\t\tconst data = getFromQueued(1);\n\t\tif (data.length === 0) {\n\t\t\tmoviesDOM.innerHTML = `<img class='movie__library' src='${NO_MOVIES_MEME}' alt='Boromir meme'>`;\n\t\t\tpaginationDOM.innerHTML = \"\";\n\t\t} else {\n\t\t\trenderLibraryMovies(data);\n\t\t\tsetPaginationQueued();\n\t\t}\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\nexport const renderLibraryMovies = async (movies) => {\n\tlet genreNames = [];\n\tconst genres = await getGallery.getGalleryGenres();\n\tconst markup = movies\n\t\t.map(\n\t\t\t({\n\t\t\t\ttitle,\n\t\t\t\tposter_path,\n\t\t\t\trelease_date,\n\t\t\t\tfirst_air_date,\n\t\t\t\tname,\n\t\t\t\tvote_average,\n\t\t\t\tgenre_ids,\n\t\t\t\tid,\n\t\t\t}) => {\n\t\t\t\tif (genre_ids) {\n\t\t\t\t\tgenreNames = genres\n\t\t\t\t\t\t.filter(({ id }) => genre_ids.includes(id))\n\t\t\t\t\t\t.map(({ name }) => name)\n\t\t\t\t\t\t.join(\", \");\n\t\t\t\t}\n\t\t\t\treturn `\n            <li class=\"movie\" data-id=${id}>\n            <img class=\"movie__image\" srcset=\"\n            ${poster_path ? IMG_URL + poster_path : IMG_URL_DEFAULT} 1x, \n            ${poster_path ? IMG_URL_RETINA + poster_path : IMG_URL_DEFAULT} 2x\"\n            alt=\"${title || name}\" loading=\"lazy\">\n            <div class=\"movie__textbox\">\n          <h3 class=\"movie__title\">${title || name}</h3>\n          <div class=\"movie__subtitle\">\n          <span class=\"movie__genre\">${genreNames}</span>\n          <span class=\"movie__date\">| ${\n\t\t\t\t\t\t(release_date || first_air_date)?.slice(0, 4) || \"-\"\n\t\t\t\t\t}</span>\n          <span class=\"movie__rating\">| ${vote_average.toFixed(1) || \"-\"}</span>\n          </div>\n        </div>\n            </li>`;\n\t\t\t},\n\t\t)\n\t\t.join(\"\");\n\tmoviesDOM.innerHTML = \"\";\n\tmoviesDOM.insertAdjacentHTML(\"beforeend\", markup);\n};\n","import {\n\tsetPaginationQueued,\n\tsetPaginationWatched,\n} from \"./pagination-library\";\nimport { submitQueued, submitWatched } from \"./render-library-movies\";\n\nconst btnLibrary = document.querySelector(\".btn-library\");\n\nconst btnWatched = document.querySelector(\"#btnWatched\");\nconst btnQueue = document.querySelector(\"#btnQueue\");\n\nconst toggleBtnActive = (e) => {\n\tconst clickedBtn = e.target;\n\n\tif (!clickedBtn.classList.contains(\"btn-current-active\")) {\n\t\tbtnWatched.classList.toggle(\"btn-current-active\");\n\t\tbtnQueue.classList.toggle(\"btn-current-active\");\n\t}\n\n\tif (clickedBtn.classList.contains(\"btn-current-inactive\")) {\n\t\tbtnWatched.classList.toggle(\"btn-current-inactive\");\n\t\tbtnQueue.classList.toggle(\"btn-current-inactive\");\n\t}\n\tif (btnWatched.classList.contains(\"btn-current-active\")) {\n\t\tsubmitWatched();\n\t} else {\n\t\tsubmitQueued();\n\t}\n};\n\nbtnWatched.addEventListener(\"click\", toggleBtnActive);\nbtnQueue.addEventListener(\"click\", toggleBtnActive);\n\nsubmitWatched();\n"],"names":["$afPuq","parcelRequire","$c06512b8cd2c6783$var$moviesDOM","document","querySelector","$c06512b8cd2c6783$var$IMG_URL_DEFAULT","$c06512b8cd2c6783$var$NO_MOVIES_MEME","$c06512b8cd2c6783$var$paginationDOM","$c06512b8cd2c6783$export$eee814f5567c49ef","event","data","$b374K","getFromWatched","length","innerHTML","$c06512b8cd2c6783$export$50fa949290769984","$94cfa6f5b2f224f0$export$363377568f09298","error","console","log","$c06512b8cd2c6783$export$eedb9d5eaed47172","getFromQueued","$94cfa6f5b2f224f0$export$b2975a7ef33e9e5e","async","movies","genreNames","genres","$5touj","default","getGalleryGenres","markup","map","title","poster_path","release_date","first_air_date","name","vote_average","genre_ids","id","filter","includes","join","slice","toFixed","insertAdjacentHTML","$94cfa6f5b2f224f0$var$paginationDOM","options","totalItems","JSON","parse","localStorage","getItem","itemsPerPage","visiblePages","page","centerAlign","$parcel$interopDefault","on","newPageData","$1b33aa1566a4faf2$var$btnWatched","$1b33aa1566a4faf2$var$btnQueue","$1b33aa1566a4faf2$var$toggleBtnActive","e","clickedBtn","target","classList","contains","toggle","addEventListener"],"version":3,"file":"my-library.cc5214e6.js.map"}